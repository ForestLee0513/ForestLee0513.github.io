{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/RN에서-Status-Bar-영역-구분/",
    "result": {"data":{"site":{"siteMetadata":{"title":"이우림","siteUrl":"https://forestlee0513.github.io"}},"markdownRemark":{"id":"6afe07ee-5f52-5f39-97cc-07ae95669cd3","excerpt":"이슈 발견 프로젝트를 진행하면서 ios에서는 문제 없지만 안드로이드에서 컴포넌트들이 Status Bar안으로 들어가서 정상적인 출력이 불가능한 문제가 발생하여 해결방법을 올리고자 합니다. iPhone X 이후 iOS 기기에서 비슷하게 Status Bar와 하단 Bar…","html":"<h2>이슈 발견</h2>\n<p>프로젝트를 진행하면서 ios에서는 문제 없지만 안드로이드에서 컴포넌트들이 Status Bar안으로 들어가서 정상적인 출력이 불가능한 문제가 발생하여 해결방법을 올리고자 합니다.</p>\n<blockquote>\n<p>iPhone X 이후 iOS 기기에서 비슷하게 Status Bar와 하단 Bar 안으로 들어간다면 RN에서 제공하는 <a href=\"https://reactnative.dev/docs/safeareaview\">SafeAreaView</a>를 참고 하면 됩니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c469594139ff98774c357835d83245f8/ebf47/header-overflow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVQoz6WO3UuTYRiH918Ybss03d733fyYc1NbdJDigVY61wcWknv3qWkRrDpRyIbB5gyCPBBqoORJf4JgdGLmBzrnF5sZEWRR6gTBwK8r9iqJRAfVDRfPc9/Pw3X/VCufv7Cy8pX1tRRLySXGxyaITc8wNTlNbDrO+LtxkoklEosJJicmWVxYZCYWZ2Funtn4HPGZOJPjE7wdGWV5+QOqaDRK77Ne7gXu0+xvxu1y4/V48Xn9eD0+pff7/Aou2YXslH/hdDrxeX10h8P09fURfRFF1dHeTsX5CvJydYiChCBI6HUC2ady0GpPKqjVGjIz1QrqTA1abRYatVaZZ2ScQJIMBAIBOjs7UaUvFnMJxSYT1hIzJcUmzMUmigrzyTdKGCQRgygginoEfR6iPr1Yhy4vl9M52QpajQaP20MoFELV1tqG7cw5bLZKjAVl5BeUoxet6AQLBmMpBqMVUbIgSCUIohmdYCJXV4goFVNYaMWYb0GjyaapqelA2Oz3UV13F/edV+QUdVBg66LiUg9V9icUnO1Cb3mEYD1CLA0qs/KqHi429FFZ/5wsXTU3GxsIhcKoWm/5qLjQQWPbKPXyEFc8w7Q8GOF2+yjXW97gcL3msvt3HK5h6pqGuOYfo6jMQ+ONq4TD3ag8bjeRyFM+fvrG3Px7ZmaTTMUSTMeSfF/dJLXxg/XUFusbx0ltbLG6tsk+0N7xEIfDQSQSQSXLMoODL/mn2t9TjsddXdjt9gOhS5bp7x9QHra3d9jb2z/O/p9J/09XMBik3l5/lHDgULi7u/tXAXd2joS1tbWHQmc6Yf9/C2uqaxThT6hFkQIbUvCJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Android Status Bar 오류 스크린샷 (구글 검색)\"\n        title=\"Android Status Bar 오류 스크린샷 (구글 검색)\"\n        src=\"/static/c469594139ff98774c357835d83245f8/f058b/header-overflow.png\"\n        srcset=\"/static/c469594139ff98774c357835d83245f8/c26ae/header-overflow.png 158w,\n/static/c469594139ff98774c357835d83245f8/6bdcf/header-overflow.png 315w,\n/static/c469594139ff98774c357835d83245f8/f058b/header-overflow.png 630w,\n/static/c469594139ff98774c357835d83245f8/ebf47/header-overflow.png 688w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Android Status Bar 오류 스크린샷 (구글 검색)</p>\n<h2>해결 방법</h2>\n<h3>android에만 padding 적용하기</h3>\n<p>RN에서는 <a href=\"https://reactnative.dev/docs/platform\">Platform</a>이라는 API를 사용하여 사용자의 OS 이름을 알아낼 수 있습니다.</p>\n<p>그리고 OS이름을 구분한 뒤 <code class=\"language-text\">padding</code>이나 <code class=\"language-text\">margin</code> 값을 주면 Status Bar의 높이와 근접하게 공간을 줘서 컨테이너 안으로 들어간 것 처럼 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Platform<span class=\"token punctuation\">,</span> StyleSheet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-native\"</span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">const</span> style <span class=\"token operator\">=</span> StyleSheet<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// body View container</span>\n  body<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    marginTop<span class=\"token operator\">:</span> Platform<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"android\"</span> <span class=\"token operator\">?</span> <span class=\"token number\">15</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>하지만 이렇게 적용하면 기기마다 값이 다르거나 Android의 버전이 변경되면서 margin 값도 달라질 수 있다는 점에서 좋은 방법이 아니라고 생각합니다.</p>\n<p>그래서 유동적으로 변경되는 방법을 찾게 되었는데 마찬가지로 RN에서 제공하는 컴포넌트인 StatusBar를 아래 파트처럼 적용하면 됩니다.</p>\n<h3>Status Bar의 높이를 가져오는 방법</h3>\n<p>이번에는 RN에서 <a href=\"https://reactnative.dev/docs/statusbar\">Status Bar 컴포넌트</a>를 직접 제어하는 방법입니다.</p>\n<p>먼저 아래와 같이 컴포넌트를 import하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StatusBar<span class=\"token punctuation\">,</span> StyleSheet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-native\"</span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">const</span> style <span class=\"token operator\">=</span> StyleSheet<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// body View container</span>\n  body<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    marginTop<span class=\"token operator\">:</span> StatusBar<span class=\"token punctuation\">.</span>currentHeight<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Status Bar의 높이를 어떻게 자동으로 가져오는지 조금 더 자세히 보고 싶다면 <a href=\"https://github.com/facebook/react-native\">RN 레파지토리</a>의 <a href=\"https://github.com/facebook/react-native/blob/main/Libraries/Components/StatusBar/StatusBar.js\">StatusBar.js</a>파일 250번 라인 이후와 <a href=\"https://github.com/facebook/react-native/blob/main/Libraries/Components/StatusBar/NativeStatusBarManagerAndroid.js\">NativeStatusBarManagerAndroid.js</a> 파일을 참고하면 되고, 이 방식을 사용 했을 경우 Native Module에서 직접 Status Bar를 가져오므로 높이 값이 변경 됩니다.</p>\n<p>그리고 iOS에서는 <a href=\"https://reactnative.dev/docs/statusbar\">문서</a>에서 보거나 아래에 첨부한 StatusBar.js의 250번 라인부터 보면 null로 반환되는 것을 알 수 있는데, 이를 참고하여 StyleSheet를 생성할 때 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator\">Nullish Coalescing</a>를 사용하거나 Platform API의 OS Property를 사용하여 안드로이드만 marginTop이 적용되게 하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Libraries/Components/StatusBar/StatusBar.js</span>\n<span class=\"token comment\">// 250번 라인부터 시작...</span>\n<span class=\"token keyword\">static</span> currentHeight<span class=\"token operator\">:</span> <span class=\"token operator\">?</span>number <span class=\"token operator\">=</span>\n    Platform<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span> <span class=\"token operator\">===</span> <span class=\"token string\">'android'</span>\n      <span class=\"token operator\">?</span> NativeStatusBarManagerAndroid<span class=\"token punctuation\">.</span><span class=\"token function\">getConstants</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token constant\">HEIGHT</span>\n      <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ...</span></code></pre></div>\n<p>하지만 이제는 <code class=\"language-text\">StatusBar</code>의 텍스트 색상이 배경색과 비슷해 보여서 안보이는 문제가 발생하는데 이 내용은 다음 글인 <strong>RN에서 Status Bar가 안보이는 문제</strong>에서 다루도록 하겠습니다.</p>","frontmatter":{"title":"RN에서 Status Bar 영역 구분","date":"2022년 02월 03일","description":"RN 안드로이드에서 Status Bar가 안으로 들어가는 문제와 해결방법","thumbnail":null}},"previous":{"fields":{"slug":"/브라우저-핑거-프린트가-무엇인가요/"},"frontmatter":{"title":"브라우저 핑거 프린트가 무엇인가요?"}},"next":null},"pageContext":{"id":"6afe07ee-5f52-5f39-97cc-07ae95669cd3","previousPostId":"23ba54ce-c9e7-51fd-84ea-ae737e616418","nextPostId":null}},
    "staticQueryHashes": ["3311626724"]}